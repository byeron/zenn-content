---
title: "Access a server via proxy"
emoji: "ğŸ•Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["network"]
published: false
---

# proxyçµŒç”±ã§ç‰¹å®šã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„

## curlã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆ
- `curl -vI ${URL} -x ${proxy_host}:${proxy_port}`
  - `-v`ï¼ˆvervoseï¼‰: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å–å¾—ã¾ã§ã®è©³ç´°ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
  - `-I`: ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã¿ã‚’å–å¾—ã€‚ç°¡å˜ã«ç¢ºèªã—ãŸã„ã¨ãã¯ãƒ˜ãƒƒãƒ€ãƒ¼ä¸­ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ`200`ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚Œã°è‰¯ã•ãã†
  - `-x`: è¸ã¿å°ã«ã™ã‚‹proxyã‚µãƒ¼ãƒãƒ¼ã‚’æŒ‡å®šï¼ˆæœ¬æ¥ã¯`http://${user}:${password}@${host}:${port}`ã ãŒçœç•¥ã—ã¦è‰¯ã„ï¼‰ã€‚ãƒãƒ¼ãƒˆã¯proxyã‚µãƒ¼ãƒãƒ¼ã§è¨­å®šã—ãŸãƒãƒ¼ãƒˆã‚’æ­£ã—ãæŒ‡å®šã™ã‚‹
  ```
  # 8080ãƒãƒ¼ãƒˆã‚’proxyç”¨ã«è¨­å®šã—ãŸã‚µãƒ¼ãƒãƒ¼ã‚’è¸ã¿å°ã«ã—ã¦yahooã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã‚‹
  $ curl -I https://www.yahoo.co.jp -x 192.0.2.10:8080

  HTTP/2 200 
  content-length: 0
  content-type: text/html; charset=utf-8
  date: Sat, 17 Oct 2020 03:45:40 GMT
  etag: W/"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"
  set-cookie: B=8jk3o85fokq74&b=3&s=v9; expires=Tue, 18-Oct-2022 03:45:40 GMT; path=/; domain=.yahoo.co.jp
  vary: Accept-Encoding
  x-vcap-request-id: d3f8c741-c3de-4efc-5dcc-255e464e4a04
  x-xss-protection: 1; mode=block
  age: 0
  via: http/1.1 edge2422.img.djm.yahoo.co.jp (ApacheTrafficServer [c sSf ])
  server: ATS
  ```
